import { describe, expect, it } from "vitest";
import { hexTrianglesFromPoints } from "../../../src/engine/TerrainMesh/hexTrianglesFromPoints";

describe("hexTrianglesFromPoints", () => {
  it("K1 output", () => {
    expect(hexTrianglesFromPoints(1)).toEqual(validK1Triangles);
  });

  it("K2 output", () => {
    expect(hexTrianglesFromPoints(2)).toEqual(validK2Triangles);
  });

  it("K3 output", () => {
    expect(hexTrianglesFromPoints(3)).toEqual(validK3Triangles);
  });

  it("K4 output", () => {
    expect(hexTrianglesFromPoints(4)).toEqual(validK4Triangles);
  });
});

/* pointy-top:
       n
       1
     /    \
nw 2        6 ne
   |   0 c  |
sw 3        5 se
     \    /
       4
       s
 */
// NOTE: In Babylon, reality is flipped: triangles are build clockwise but Babylon understands that as counter-clockwise (eg what it wants)
const validK1Triangles = [
  // CCW: NW, N, center
  2, 1, 0,

  // SW, NW, center
  3, 2, 0,

  // S, SW, center
  4, 3, 0,

  // SE, S, center
  5, 4, 0,

  // NE, SE, center
  6, 5, 0,

  // N, NE, center
  1, 6, 0,
];
const validK2Triangles = [
  2,
  1,
  0, // t0
  3,
  2,
  0, // t1
  4,
  3,
  0, // t2
  5,
  4,
  0, // t3
  6,
  5,
  0, // t4
  1,
  6,
  0, // t5
  1,
  8,
  7, // t6
  1,
  2,
  8, // t7
  2,
  9,
  8, // t8
  2,
  10,
  9, // t9
  2,
  3,
  10, // t10
  3,
  11,
  10, // t11
  3,
  12,
  11, // t12
  3,
  4,
  12, // t13
  4,
  13,
  12, // t14
  4,
  14,
  13, // t15
  4,
  5,
  14, // t16
  5,
  15,
  14, // t17
  5,
  16,
  15, // t18
  5,
  6,
  16, // t19
  6,
  17,
  16, // t20
  6,
  18,
  17, // t21
  6,
  1,
  18, // t22
  1,
  7,
  18, // t23
];

const validK3Triangles = [
  2,
  1,
  0, // t0
  3,
  2,
  0, // t1
  4,
  3,
  0, // t2
  5,
  4,
  0, // t3
  6,
  5,
  0, // t4
  1,
  6,
  0, // t5
  1,
  8,
  7, // t6
  1,
  2,
  8, // t7
  2,
  9,
  8, // t8
  2,
  10,
  9, // t9
  2,
  3,
  10, // t10
  3,
  11,
  10, // t11
  3,
  12,
  11, // t12
  3,
  4,
  12, // t13
  4,
  13,
  12, // t14
  4,
  14,
  13, // t15
  4,
  5,
  14, // t16
  5,
  15,
  14, // t17
  5,
  16,
  15, // t18
  5,
  6,
  16, // t19
  6,
  17,
  16, // t20
  6,
  18,
  17, // t21
  6,
  1,
  18, // t22
  1,
  7,
  18, // t23
  7,
  20,
  19, // t24
  7,
  8,
  20, // t25
  8,
  21,
  20, // t26
  8,
  21,
  20, // t27
  8,
  9,
  21, // t28
  9,
  22,
  21, // t29
  9,
  23,
  22, // t30
  9,
  10,
  23, // t31
  10,
  24,
  23, // t32
  10,
  24,
  23, // t33
  10,
  11,
  24, // t34
  11,
  25,
  24, // t35
  11,
  26,
  25, // t36
  11,
  12,
  26, // t37
  12,
  27,
  26, // t38
  12,
  27,
  26, // t39
  12,
  13,
  27, // t40
  13,
  28,
  27, // t41
  13,
  29,
  28, // t42
  13,
  14,
  29, // t43
  14,
  30,
  29, // t44
  14,
  30,
  29, // t45
  14,
  15,
  30, // t46
  15,
  31,
  30, // t47
  15,
  32,
  31, // t48
  15,
  16,
  32, // t49
  16,
  33,
  32, // t50
  16,
  33,
  32, // t51
  16,
  17,
  33, // t52
  17,
  34,
  33, // t53
  17,
  35,
  34, // t54
  17,
  18,
  35, // t55
  18,
  36,
  35, // t56
  18,
  36,
  35, // t57
  18,
  7,
  36, // t58
  7,
  19,
  36, // t59
];

const validK4Triangles = [
  2,
  1,
  0, // t0
  3,
  2,
  0, // t1
  4,
  3,
  0, // t2
  5,
  4,
  0, // t3
  6,
  5,
  0, // t4
  1,
  6,
  0, // t5
  1,
  8,
  7, // t6
  1,
  2,
  8, // t7
  2,
  9,
  8, // t8
  2,
  10,
  9, // t9
  2,
  3,
  10, // t10
  3,
  11,
  10, // t11
  3,
  12,
  11, // t12
  3,
  4,
  12, // t13
  4,
  13,
  12, // t14
  4,
  14,
  13, // t15
  4,
  5,
  14, // t16
  5,
  15,
  14, // t17
  5,
  16,
  15, // t18
  5,
  6,
  16, // t19
  6,
  17,
  16, // t20
  6,
  18,
  17, // t21
  6,
  1,
  18, // t22
  1,
  7,
  18, // t23
  7,
  20,
  19, // t24
  7,
  8,
  20, // t25
  8,
  21,
  20, // t26
  8,
  21,
  20, // t27
  8,
  9,
  21, // t28
  9,
  22,
  21, // t29
  9,
  23,
  22, // t30
  9,
  10,
  23, // t31
  10,
  24,
  23, // t32
  10,
  24,
  23, // t33
  10,
  11,
  24, // t34
  11,
  25,
  24, // t35
  11,
  26,
  25, // t36
  11,
  12,
  26, // t37
  12,
  27,
  26, // t38
  12,
  27,
  26, // t39
  12,
  13,
  27, // t40
  13,
  28,
  27, // t41
  13,
  29,
  28, // t42
  13,
  14,
  29, // t43
  14,
  30,
  29, // t44
  14,
  30,
  29, // t45
  14,
  15,
  30, // t46
  15,
  31,
  30, // t47
  15,
  32,
  31, // t48
  15,
  16,
  32, // t49
  16,
  33,
  32, // t50
  16,
  33,
  32, // t51
  16,
  17,
  33, // t52
  17,
  34,
  33, // t53
  17,
  35,
  34, // t54
  17,
  18,
  35, // t55
  18,
  36,
  35, // t56
  18,
  36,
  35, // t57
  18,
  7,
  36, // t58
  7,
  19,
  36, // t59
  19,
  38,
  37, // t60
  19,
  20,
  38, // t61
  20,
  39,
  38, // t62
  20,
  39,
  38, // t63
  20,
  21,
  39, // t64
  21,
  40,
  39, // t65
  21,
  40,
  39, // t66
  21,
  22,
  40, // t67
  22,
  41,
  40, // t68
  22,
  42,
  41, // t69
  22,
  23,
  42, // t70
  23,
  43,
  42, // t71
  23,
  43,
  42, // t72
  23,
  24,
  43, // t73
  24,
  44,
  43, // t74
  24,
  44,
  43, // t75
  24,
  25,
  44, // t76
  25,
  45,
  44, // t77
  25,
  46,
  45, // t78
  25,
  26,
  46, // t79
  26,
  47,
  46, // t80
  26,
  47,
  46, // t81
  26,
  27,
  47, // t82
  27,
  48,
  47, // t83
  27,
  48,
  47, // t84
  27,
  28,
  48, // t85
  28,
  49,
  48, // t86
  28,
  50,
  49, // t87
  28,
  29,
  50, // t88
  29,
  51,
  50, // t89
  29,
  51,
  50, // t90
  29,
  30,
  51, // t91
  30,
  52,
  51, // t92
  30,
  52,
  51, // t93
  30,
  31,
  52, // t94
  31,
  53,
  52, // t95
  31,
  54,
  53, // t96
  31,
  32,
  54, // t97
  32,
  55,
  54, // t98
  32,
  55,
  54, // t99
  32,
  33,
  55, // t100
  33,
  56,
  55, // t101
  33,
  56,
  55, // t102
  33,
  34,
  56, // t103
  34,
  57,
  56, // t104
  34,
  58,
  57, // t105
  34,
  35,
  58, // t106
  35,
  59,
  58, // t107
  35,
  59,
  58, // t108
  35,
  36,
  59, // t109
  36,
  60,
  59, // t110
  36,
  60,
  59, // t111
  36,
  19,
  60, // t112
  19,
  37,
  60, // t113
];
